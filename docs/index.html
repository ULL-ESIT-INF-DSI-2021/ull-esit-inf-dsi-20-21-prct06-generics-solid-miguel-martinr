<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Clases e interfaces genéricas</title>
	<meta name="description" content="Documentation for Clases e interfaces genéricas">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Clases e interfaces genéricas</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>Clases e interfaces genéricas</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#ver-en-github" id="ver-en-github" style="color: inherit; text-decoration: none;">
					<h1><a href="https://github.com/ULL-ESIT-INF-DSI-2021/ull-esit-inf-dsi-20-21-prct06-generics-solid-miguel-martinr"><strong>Ver en Github</strong></a></h1>
				</a>
				<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
					<h2><strong>Introducción</strong></h2>
				</a>
				<a href="#objetivos" id="objetivos" style="color: inherit; text-decoration: none;">
					<h2><strong>Objetivos</strong></h2>
				</a>
				<a href="#1-el-combate-definitivo" id="1-el-combate-definitivo" style="color: inherit; text-decoration: none;">
					<h2><strong>1. El combate definitivo</strong></h2>
				</a>
				<p>Partiendo del desarrollo de este <a href="https://ull-esit-inf-dsi-2021.github.io/ull-esit-inf-dsi-20-21-prct05-objects-classes-interfaces-miguel-martinr/#1-pokedex">ejercicio</a> en el que hemos desarrollado una Pokedex y una clase que permite simular combates entre Pokémons, crearemos ahora un conjunto de clases que permitan simular combates de personajes de distintos universos (Marvel, Pokemon, etc).</p>
				<a href="#luchadores" id="luchadores" style="color: inherit; text-decoration: none;">
					<h3><strong>Luchadores</strong></h3>
				</a>
				<p>En primer lugar crearemos la clase abstracta <code>Fighter</code>. Esta clase almacenará datos comunes a todos los luchadores tales como: nombre, altura, peso, valores de ataque, defesa y velocidad y la cantidad de vida (hitPoints). Además, definirá un método abstracto llamado <code>talk</code>, que retornará una <code>string</code>; este método deberá ser implementado por todos los descendientes instanciables de esta clase y servirá para que cada personaje diga su <em>catching phrase</em>.</p>
				<p>Esta clase también definirá un método abstracto llamado <code>getEffectiveness</code>, que recibirá como parámetro otro Fighter y retornará la efectividad que se aplicaría en caso de un ataque del objeto invocante al objeto que se pasa por parámetro. De esta forma le quitamos la responsabilidad de calcular dicha efectividad a la clase <code>Combat</code> (que era la responsable de calcularla en el ejercicio de la práctica anterior) y la delegamos a las clases de niveles más bajos en la jerarquía. con este diseño podríamos, por ejemplo, implementar determinadas reglas para todos los luchadores de un universo en concreto o hacer que cada luchador sea responsable de recordar y aplicar sus propias reglas.</p>
				<p>Una vez tengamos definida nuestra clase <code>Figther</code>, podremos definir distintos universos que herederán de ella. Estos universos serán también clases abstractas y se encargarán de definir atributos y métodos que deben ser implementados por los personajes de cada uno de los universos.</p>
				<p>En este caso, definiremos los universos <code>Marvel</code> y <code>Pokemon</code>. </p>
				<a href="#marvel" id="marvel" style="color: inherit; text-decoration: none;">
					<h4><strong>Marvel</strong></h4>
				</a>
				<p>Esta clase será la clase padre de todos aquellos personajes pertenecientes al universo Marvel, y por lo tanto definirá el atributo <code>planet: MarvelPlanet</code>, que identificará el planeta del que procede un determinado personaje.</p>
				<p><strong><em>Nota:</em></strong> He definido <code>MarvelPlanet</code> como una unión de tipos en la que se encuentran la tierra, Asgard, Titán y Zen Whoberi.</p>
				<a href="#pokemon" id="pokemon" style="color: inherit; text-decoration: none;">
					<h4><strong>Pokemon</strong></h4>
				</a>
				<p>De forma similar, esta clase definirá un atributo <code>type: PokemonType</code> igual al utilizado en el ejercicio 1 de la práctica anterior.</p>
				<p>Y por último, procederemos a crear las clases detalladas de cada uno de los personajes que integrarán nuestro macro universo. Esto lo haremos creando clases hijas de cada uno de los universos e implementando el método <code>talk</code> y los atributos <code>planet</code> y <code>pokemonType</code> según corresponda. Asimismo, implementaremos el método <code>getEffectiveness</code> en cada uno, para que sea responsabilidad de cada personaje calcular su efectividad.</p>
				<p>De esta forma, obtendríamos un esquema como el siguiente:</p>
				<p><img src="media/fighters-scheme.svg" alt="Esquema de luchadores"></p>
				<p>Como se mencionó anteriormente, en esta implementación cada personaje es responsable de calcular su efectividad a modo demostrativo. Sin embargo, podríamos mover dicho método a sus clases padres (Marvel y Pokémon) si así lo quisiéramos y sobreescribirlo solo en los casos necesarios.</p>
				<a href="#combate" id="combate" style="color: inherit; text-decoration: none;">
					<h3><strong>Combate</strong></h3>
				</a>
				<p>Redefiniremos la clase <code>Combat</code> como una clase genérica que recibirá argumentos de tipo genérico indicando la naturaleza de los luchadores:</p>
				<pre><code class="language-typescript"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">class</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Combat</span><span style="color: #24292E">&lt;</span><span style="color: #6F42C1">A</span><span style="color: #24292E"> </span><span style="color: #D73A49">extends</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Fighter</span><span style="color: #24292E">, </span><span style="color: #6F42C1">B</span><span style="color: #24292E"> </span><span style="color: #D73A49">extends</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Fighter</span><span style="color: #24292E">&gt; {</span>
<span style="color: #24292E">  </span><span style="color: #D73A49">constructor</span><span style="color: #24292E">(</span><span style="color: #D73A49">private</span><span style="color: #24292E"> </span><span style="color: #E36209">fighterA</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">A</span><span style="color: #24292E">, </span><span style="color: #D73A49">private</span><span style="color: #24292E"> </span><span style="color: #E36209">fighterB</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">B</span><span style="color: #24292E">) {</span>

<span style="color: #24292E">  }</span>
<span style="color: #24292E">  . . . </span>
</code></pre>
				<p>Así, podremos obtener instancias que solo admitan determinadas configuraciones de luchadores: dos de universos diferentes, dos del mismo universo o dos de cualquier universo, etc...</p>
				<p>La clase <code>Combat</code> almacenará los contrincantes e implementará los siguientes métodos:</p>
				<ul>
					<li><strong><code>calcDamage</code></strong>: Encargado de aplicar una fórmula matemática para calcular el daño ocasionado dependiendo de los valores de ataque, defensa y efectividad.</li>
					<li><strong><code>damageCasused</code></strong>: Encargado de pasar los valores de ataque y defensa de los contrincantes a la función matemática que calcula el daño.</li>
					<li><strong><code>start</code></strong>: Empieza una batalla entre los contrincantes turnando los ataques hasta que se agote la vida de uno de ellos. Además, imprime el estado actual tras cada ataque.</li>
					<li><strong><code>printStatus</code></strong>: Imprime por consola el estado actual de los contrincantes (hitPoints) junto a una <code>catching phrase</code> de cada uno de ellos.</li>
				</ul>
				<p><img src="media/combat-scheme.svg" alt="Esquema de Combat"></p>
				<p>A continuación, una demostración de una batalla entre un <strong>Pikachu</strong> y un <strong>Thor</strong>:</p>
				<pre><code class="language-typescript"><span style="color: #D73A49">const</span><span style="color: #24292E"> </span><span style="color: #005CC5">combat</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Combat</span><span style="color: #24292E">(</span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Thor</span><span style="color: #24292E">(), </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Pikachu</span><span style="color: #24292E">());</span>
<span style="color: #24292E">combat.</span><span style="color: #6F42C1">start</span><span style="color: #24292E">();</span>
</code></pre>
				<p><img src="media/combat-demo.gif" alt="Demo combat"></p>
				<a href="#lógica-de-combate" id="lógica-de-combate" style="color: inherit; text-decoration: none;">
					<h4><strong>Lógica de combate</strong></h4>
				</a>
				<p>Como se mencionó anteriormente, en esta implementación cada personaje es responsable de calcular su efectividad dependiendo del personaje al que va a atacar. Las reglas definidas son las siguientes:</p>
				<ul>
					<li><strong>Si el atacante es Asgardiano, siempre será muy efectivo</strong></li>
					<li><strong>En otro caso: Pokémon &gt; Marvel</strong></li>
				</ul>
				<table>
					<thead>
						<tr>
							<th>* Si ambos contrincantes son Pokémons</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>Fuego &gt; Hierba</td>
						</tr>
						<tr>
							<td>Fuego &lt; agua</td>
						</tr>
						<tr>
							<td>Fuego = Eléctrico</td>
						</tr>
						<tr>
							<td>Agua &lt; Hierba</td>
						</tr>
						<tr>
							<td>Hierba = Eléctrico</td>
						</tr>
				</tbody></table>
				<table>
					<thead>
						<tr>
							<th>* Si ambos contrincantes son de Marvel</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>Asgard &gt; Todos</td>
						</tr>
						<tr>
							<td>Earth &gt; Titan</td>
						</tr>
						<tr>
							<td>Earth = Zen whoberi</td>
						</tr>
				</tbody></table>
				<ul>
					<li><strong>En cualquier otro caso, la efectividad es neutral</strong></li>
				</ul>
				<p>Ejemplo de la implementación de la lógica de combate para la clase <code>IronMan</code>:</p>
				<pre><code class="language-typescript"><span style="color: #24292E">  </span><span style="color: #6F42C1">getEffectiveness</span><span style="color: #24292E">(defender: Fighter): effectVal {</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> (defender </span><span style="color: #D73A49">instanceof</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Pokemon</span><span style="color: #24292E">) </span><span style="color: #D73A49">return</span><span style="color: #24292E"> effectVal.notQuiteEffective;</span>

<span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> (defender </span><span style="color: #D73A49">instanceof</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Marvel</span><span style="color: #24292E">) {</span>
<span style="color: #24292E">      </span><span style="color: #D73A49">switch</span><span style="color: #24292E"> (defender.</span><span style="color: #6F42C1">getPlanet</span><span style="color: #24292E">()) {</span>
<span style="color: #24292E">        </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;ASGARD&#039;</span><span style="color: #24292E">: </span><span style="color: #D73A49">return</span><span style="color: #24292E"> effectVal.notQuiteEffective;</span>
<span style="color: #24292E">        </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;EARTH&#039;</span><span style="color: #24292E">: </span><span style="color: #D73A49">return</span><span style="color: #24292E"> effectVal.notQuiteEffective;</span>
<span style="color: #24292E">        </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;TITAN&#039;</span><span style="color: #24292E">: </span><span style="color: #D73A49">return</span><span style="color: #24292E"> effectVal.superEffective;</span>
<span style="color: #24292E">        </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;ZenWhoberi&#039;</span><span style="color: #24292E">: </span><span style="color: #D73A49">return</span><span style="color: #24292E"> effectVal.neutral;</span>
<span style="color: #24292E">      }</span>
<span style="color: #24292E">    }</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> effectVal.neutral;</span>
<span style="color: #24292E">  }</span>
</code></pre>
				<a href="#pokedex-genérica" id="pokedex-genérica" style="color: inherit; text-decoration: none;">
					<h3><strong>Pokedex genérica</strong></h3>
				</a>
				<p>Por último, implementremos una clase <code>MultiversePokedex</code> que sea capaz de almacenar personajes de diferentes universos.</p>
				<p>Para ello, primero modifcaremos la clase <code>Pokedex</code> creada en la práctica anterior y la haremos genérica, de modo que podamos especificar el tipo de luchador que almacenará. Dicho tipo extendrá a la clase <code>Fighter</code>, para así restringirlo a personajes pertenecientes a los universos conocidos.</p>
				<p>A continuación, haremos que <code>MultiversePokedex</code> extienda a <code>Pokedex</code> y que pase <code>Fighter</code> como su parámetro de tipo genérico para que sea capaz de almacenar personajes de todos los universos:
				<img src="media/pokedex-scheme.svg" alt="Esquema pokedex"></p>
				<a href="#2-conversor-de-unidades" id="2-conversor-de-unidades" style="color: inherit; text-decoration: none;">
					<h2><strong>2. Conversor de unidades</strong></h2>
				</a>
				<p>A continuación, desarrollaremos un conjunto de clases que nos permitan realizar conversiones de unidades o sistemas de medición para distintas magnitudes físicas. En concreto, crearemos un sistema inicialmente integrado por dos magnitutdes físicas: <strong>Masa</strong> y <strong>Velocidad</strong>, y que será fácilmente extendible mediante la adición de nuevas clases.</p>
				<p>El diseño para este ejercicio consiste en el desarrollo de una interfaz genérica llamada <code>isConvertible</code> que define la siguiente forma:</p>
				<pre><code class="language-typescript"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">interface</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IsConvertible</span><span style="color: #24292E">&lt;</span><span style="color: #6F42C1">DataType</span><span style="color: #24292E">, </span><span style="color: #6F42C1">UnitType</span><span style="color: #24292E">&gt; {</span>
<span style="color: #24292E">  </span><span style="color: #E36209">data</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DataType</span><span style="color: #24292E">;</span>
<span style="color: #24292E">  </span><span style="color: #E36209">currentUnit</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">UnitType</span><span style="color: #24292E">;</span>
<span style="color: #24292E">  </span><span style="color: #6F42C1">convertTo</span><span style="color: #24292E">(</span><span style="color: #E36209">unit</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">UnitType</span><span style="color: #24292E">)</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DataType</span><span style="color: #24292E">;</span>
<span style="color: #24292E">}</span>
</code></pre>
				<p>Donde <strong><code>UnitType</code></strong> especifica el conjunto de unidades de medida con el que se va a trabajar; por ejemplo: metros, centímetros y kilómetros; y <strong><code>DataType</code></strong> especifica el tipo del dato a convertir, por ejemplo: number, string, etc...</p>
				<p>Esta interfaz define un atributo llamado <code>data</code> que representará el dato a almacenar y sobre el que se ejecutarán las transformaciones. Es importante recalcar que al estar definido en la interfaz, dicho dato será necesariamente público en aquellas clases que implementen la interfaz. En caso de que sea necesario definirlo como un atributo privado podríamos evitar definirlo en la interfaz y limitar el contenido de la misma a los métodos que gestionan el atributo.</p>
				<p>Asimismo, define un atributo llamado <code>currentUnit</code> que almacena la unidad de medida bajo la cual está representado el dato actualmente.</p>
				<p>Por último, el método <code>convertTo</code> recibe como parámetro la unidad de medida a la cual se quiere transformar el dato almacenado y retorna dicho valor ya transformado.</p>
				<p>Veamos el ejemplo de implementación para la Velocidad:</p>
				<ul>
					<li><p>La clase <code>Velocity</code> implementa la interfaz <code>isConvertibe</code> pasando como argumentos de tipo genérico el tipo <code>number</code> y la unión de tipos <code>VelocityUnit</code>, que incluye metros por segundo, kilómetros por hora y millas por hora. El método <code>convertTo</code> recibe como parámetro un valor de tipo <code>VelocityUnit</code> y, mediante un switch-case, invoca uno de los métodos que convierte el dato almacenado a la unidad deseada:</p>
					</li>
					<li><pre><code class="language-typescript"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">VelocityUnit</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;KM/H&#039;</span><span style="color: #24292E"> </span><span style="color: #D73A49">|</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;MPH&#039;</span><span style="color: #24292E"> </span><span style="color: #D73A49">|</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;M/S&#039;</span><span style="color: #24292E">;</span>

<span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">class</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Velocity</span><span style="color: #24292E"> </span><span style="color: #D73A49">implements</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IsConvertible</span><span style="color: #24292E">&lt;</span><span style="color: #005CC5">number</span><span style="color: #24292E">, </span><span style="color: #6F42C1">VelocityUnit</span><span style="color: #24292E">&gt; {</span>
<span style="color: #D73A49">constructor</span><span style="color: #24292E">(</span><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">readonly</span><span style="color: #24292E"> </span><span style="color: #E36209">data</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">number</span><span style="color: #24292E">, </span><span style="color: #D73A49">readonly</span><span style="color: #24292E"> </span><span style="color: #E36209">currentUnit</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">VelocityUnit</span><span style="color: #24292E">) {}</span>

<span style="color: #6F42C1">convertTo</span><span style="color: #24292E">(</span><span style="color: #E36209">unit</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">VelocityUnit</span><span style="color: #24292E">)</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">number</span><span style="color: #24292E"> {</span>
<span style="color: #24292E">  </span><span style="color: #D73A49">switch</span><span style="color: #24292E"> (unit) {</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;KM/H&#039;</span><span style="color: #24292E">:</span>
<span style="color: #24292E">      </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">this</span><span style="color: #24292E">.</span><span style="color: #6F42C1">convertToKMH</span><span style="color: #24292E">();</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;MPH&#039;</span><span style="color: #24292E">:</span>
<span style="color: #24292E">      </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">this</span><span style="color: #24292E">.</span><span style="color: #6F42C1">convertToMPH</span><span style="color: #24292E">();</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;M/S&#039;</span><span style="color: #24292E">:</span>
<span style="color: #24292E">      </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">this</span><span style="color: #24292E">.</span><span style="color: #6F42C1">convertToMS</span><span style="color: #24292E">();</span>
<span style="color: #24292E">  }</span>
<span style="color: #24292E">}</span>
<span style="color: #24292E">  .  .  .</span>

<span style="color: #D73A49">private</span><span style="color: #24292E"> </span><span style="color: #6F42C1">convertToKMH</span><span style="color: #24292E">()</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">number</span><span style="color: #24292E"> {</span>
<span style="color: #24292E">  </span><span style="color: #D73A49">switch</span><span style="color: #24292E"> (</span><span style="color: #005CC5">this</span><span style="color: #24292E">.currentUnit) {</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;KM/H&#039;</span><span style="color: #24292E">:</span>
<span style="color: #24292E">      </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">this</span><span style="color: #24292E">.data;</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;M/S&#039;</span><span style="color: #24292E">:</span>
<span style="color: #24292E">      </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">this</span><span style="color: #24292E">.data </span><span style="color: #D73A49">*</span><span style="color: #24292E"> </span><span style="color: #005CC5">3.6</span><span style="color: #24292E">;</span>
<span style="color: #24292E">    </span><span style="color: #D73A49">case</span><span style="color: #24292E"> </span><span style="color: #032F62">&#039;MPH&#039;</span><span style="color: #24292E">:</span>
<span style="color: #24292E">      </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">this</span><span style="color: #24292E">.data </span><span style="color: #D73A49">*</span><span style="color: #24292E"> </span><span style="color: #005CC5">1.60934</span><span style="color: #24292E">;</span>
<span style="color: #24292E">  }</span>
<span style="color: #24292E">}</span>
<span style="color: #24292E">  .  .  .</span>
</code></pre>
					</li>
				</ul>
				<p>Además, define una serie de métodos que facilitan la conversión entre unidades de medida, por ejemplo:</p>
				<pre><code class="language-typescript"><span style="color: #24292E">  .  .  .</span>
<span style="color: #6F42C1">toKMH</span><span style="color: #24292E">(): number {</span>
<span style="color: #24292E">  </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #005CC5">this</span><span style="color: #24292E">.</span><span style="color: #6F42C1">convertTo</span><span style="color: #24292E">(</span><span style="color: #032F62">&#039;KM/H&#039;</span><span style="color: #24292E">);</span>
<span style="color: #24292E">}</span>
<span style="color: #24292E">  .  .  .</span>
</code></pre>
				<p>De modo que su uso sea de la forma:</p>
				<pre><code class="language-typescript"><span style="color: #D73A49">const</span><span style="color: #24292E"> </span><span style="color: #005CC5">vel</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Velocity</span><span style="color: #24292E">(</span><span style="color: #005CC5">100</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;KM/H&#039;</span><span style="color: #24292E">);</span>

<span style="color: #24292E">console.</span><span style="color: #6F42C1">log</span><span style="color: #24292E">(vel.</span><span style="color: #6F42C1">toMPH</span><span style="color: #24292E">(), </span><span style="color: #032F62">&#039;MPH&#039;</span><span style="color: #24292E">);</span>
<span style="color: #24292E">console.</span><span style="color: #6F42C1">log</span><span style="color: #24292E">(vel.</span><span style="color: #6F42C1">toMS</span><span style="color: #24292E">(), </span><span style="color: #032F62">&#039;M/S&#039;</span><span style="color: #24292E">);</span>
</code></pre>
				<p><img src="media/converter-demo.jpg" alt="Converter demo"></p>
				<a href="#3-dsiflix" id="3-dsiflix" style="color: inherit; text-decoration: none;">
					<h2><strong>3. DSIflix</strong></h2>
				</a>
				<p>Para este ejercicio diseñaremos el modelo de datos de una plataforma de vídeo en streaming.</p>
				<ul>
					<li>Definiremos una interfaz genérica llamada <code>Streamable&lt;StreamType&gt;</code> que definirá algunos de los métodos que implementa una colección de emisiones. Esta interfaz recibirá como argumento de genérico el tipo de dato de las emisiones de la colección (<code>StreamType</code>). Los métodos que definirá son:<ul>
							<li><code>getCollection() StreamType[]</code>: Devuelve la colección de emisiones.</li>
							<li><code>setCollection(newCollection StreamType[])</code> : Actualiza la colección de emisiones.</li>
						</ul>
					</li>
				</ul>
				<p>Además, para cumplir con el <code>Interface Segregation Principle</code>, añadiremos otras dos interfaces que definen más métodos a implementar por colecciones de emisiones:</p>
				<ul>
					<li><strong>SearchableByName<Searchresult></strong>: definirá el método <code>searchByName</code>, que recibirá un nombre y devolverá un vector de elementos <code>SearchResult</code> con los elementos cuyo nombre coincida con el término de búsqueda.</li>
					<li><strong>SearchableByYear<SearchResult></strong>: de forma similar a la interfaz anterior, definirá el método <code>searchByYear</code>, que recibirá como argumento el año como un <code>number</code>, y retornará un vector con los resultados.</li>
				</ul>
				<p>Posteriormente desarrollaremos la clase abstracta genércia <code>BasicStreamableCollection</code>, que implementará las interfaces anteriormente mencionadas y recibirá como argumento de tipo genérico el tipo de elementos de los que estará compuesta la colección a almacenar. También definirá la colección como tal, que consistirá en un vector del tipo genérico pasado como argumento. Además, implementará el setter y getter para dicho atributo y definirá como asbtractos los métodos de las interfaces <code>SearchableByName</code> y <code>SearchableByYear</code>.</p>
				<p>En este punto, crearemos una jerarquía de clases aparte para representar producciones audiovisuales tales que podamos utilizar dichas clases para definir clases detalladas hijas de la clase <code>BasicStreamabaleCollection</code>.</p>
				<p>Esta jerarquía seguirá el siguiente esquema:
				<img src="media/ej3-prod-hierarchy.svg" alt="Jerarquía producciones"></p>
				<p>De esta forma podemos implementar las clases <code>SeriesCollection</code> y <code>MovieCollection</code>:</p>
				<ul>
					<li><code>SeriesCollection</code> extiende a <code>BasicStreamabaleCollection</code> pasándole como argumento de tipo genérico la clase <code>Series</code>. </li>
					<li><code>MovieCollection</code> extiende a <code>BasicStreamabaleCollection</code> pasándole como argumento de tipo genérico la clase <code>Movie</code>. </li>
				</ul>
				<p>Ambas clases implementan los métodos definidos como abstractos en su superclase.</p>
				<p>Es importante recalcar que debido a que el parámetro genérico de tipo no está restringido en la superclase, no se pueden implementar los métodos de las interfaces <code>Searchable</code>, ya que los tipos podrían no contener los atributos necesarios. En esta implementación, se ha optado por no restringir el parámetro de tipo genérico para evidenciar dicho problema, que podría ser fácilmente resuelto haciendo que el parámetro de tipo genérico extienda a la clase <code>AudioVisualProduction</code>.</p>
				<p>Ejemplo de uso:</p>
				<pre><code class="language-typescript"><span style="color: #D73A49">const</span><span style="color: #24292E"> </span><span style="color: #005CC5">movies</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span>
<span style="color: #24292E">  </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Movie</span><span style="color: #24292E">(</span><span style="color: #032F62">&#039;Blade Runner 2049&#039;</span><span style="color: #24292E">, </span><span style="color: #005CC5">2017</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;ACTION&#039;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;PROducer1&#039;</span><span style="color: #24292E">,</span>
<span style="color: #24292E">      [</span>
<span style="color: #24292E">        </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Actor</span><span style="color: #24292E">(</span><span style="color: #032F62">&#039;Dave&#039;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;Bautista&#039;</span><span style="color: #24292E">, </span><span style="color: #005CC5">1960</span><span style="color: #24292E">), </span>
<span style="color: #24292E">        </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Actor</span><span style="color: #24292E">(</span><span style="color: #032F62">&#039;Ryan&#039;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;Gosling&#039;</span><span style="color: #24292E">, </span><span style="color: #005CC5">1980</span><span style="color: #24292E">),</span>
<span style="color: #24292E">      ],</span>
<span style="color: #24292E">      </span><span style="color: #005CC5">164</span><span style="color: #24292E"> </span><span style="color: #D73A49">*</span><span style="color: #24292E"> </span><span style="color: #005CC5">60</span><span style="color: #24292E">),</span>

<span style="color: #24292E">  </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Movie</span><span style="color: #24292E">(</span><span style="color: #032F62">&#039;Togo&#039;</span><span style="color: #24292E">, </span><span style="color: #005CC5">2019</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;DRAMA&#039;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;Producer2&#039;</span><span style="color: #24292E">,</span>
<span style="color: #24292E">      [</span>
<span style="color: #24292E">        </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Actor</span><span style="color: #24292E">(</span><span style="color: #032F62">&#039;Christopher&#039;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;Heyerdahl&#039;</span><span style="color: #24292E">, </span><span style="color: #005CC5">1970</span><span style="color: #24292E">),</span>
<span style="color: #24292E">        </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Actor</span><span style="color: #24292E">(</span><span style="color: #032F62">&#039;Willem&#039;</span><span style="color: #24292E">, </span><span style="color: #032F62">&#039;Dafoe&#039;</span><span style="color: #24292E">, </span><span style="color: #005CC5">1950</span><span style="color: #24292E">),</span>
<span style="color: #24292E">      ],</span>
<span style="color: #24292E">      </span><span style="color: #005CC5">113</span><span style="color: #24292E"> </span><span style="color: #D73A49">*</span><span style="color: #24292E"> </span><span style="color: #005CC5">60</span><span style="color: #24292E">),</span>
<span style="color: #24292E">];</span>

<span style="color: #D73A49">const</span><span style="color: #24292E"> </span><span style="color: #005CC5">movieCollection</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">MovieCollection</span><span style="color: #24292E">(movies);</span>

<span style="color: #24292E">console.</span><span style="color: #6F42C1">table</span><span style="color: #24292E">(movieCollection.</span><span style="color: #6F42C1">getCollection</span><span style="color: #24292E">());</span>
<span style="color: #24292E">console.</span><span style="color: #6F42C1">table</span><span style="color: #24292E">(movieCollection.</span><span style="color: #6F42C1">searchByYear</span><span style="color: #24292E">(</span><span style="color: #005CC5">2017</span><span style="color: #24292E">));</span>
</code></pre>
				<p><img src="media/dsflix-demo.jpg" alt="Demo dsflix"></p>
				<a href="#conclusionesx" id="conclusionesx" style="color: inherit; text-decoration: none;">
					<h2><strong>Conclusionesx</strong></h2>
				</a>
				<p>Esta práctica se ha realizado intentando aplicar los principios SOLID, destacando principalmente el <em>Interface Segregation Principle</em> en el caso del ejercicio 2 (definir varias interfaces cortas en vez de una extensa), el <em>Open-Closed</em> (clases abiertas a extensiones y cerradas a modificciones) y el <em>Single responsibility</em> (clases con una sola responsabildad) principles en el ejercicio 1; y el <em>Dependency Inversion principle</em> (hacer que los detalles dependan de las abstracciones) en el ejericio 3. Ejemplo de este último es el hacer que la clase <code>Movie</code> dependa de la clase abstracta <code>Person</code> en vez de hacer que dependa directamente de la clase detallada <code>Actor</code></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/defensa_pe_classes_numeric_searchable_collection.html">defensa-<wbr>pe/classes/numeric_<wbr>searchable_<wbr>collection</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/defensa_pe_classes_searchable_collection.html">defensa-<wbr>pe/classes/searchable_<wbr>collection</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/defensa_pe_classes_string_searchable_collection.html">defensa-<wbr>pe/classes/string_<wbr>searchable_<wbr>collection</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/defensa_pe_interfaces_collectable.html">defensa-<wbr>pe/interfaces/collectable</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/defensa_pe_interfaces_searchable.html">defensa-<wbr>pe/interfaces/searchable</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_combat.html">ejercicio-<wbr>1/classes/combat</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_fighter.html">ejercicio-<wbr>1/classes/fighter</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_iron_man.html">ejercicio-<wbr>1/classes/iron_<wbr>man</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_marvel.html">ejercicio-<wbr>1/classes/marvel</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_pikachu.html">ejercicio-<wbr>1/classes/pikachu</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_pokedex.html">ejercicio-<wbr>1/classes/pokedex</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_pokemon.html">ejercicio-<wbr>1/classes/pokemon</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_thor.html">ejercicio-<wbr>1/classes/thor</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_1_classes_venusaur.html">ejercicio-<wbr>1/classes/venusaur</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_2.html">ejercicio-<wbr>2</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_2_classes_mass.html">ejercicio-<wbr>2/classes/mass</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_2_classes_velocity.html">ejercicio-<wbr>2/classes/velocity</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_2_interfaces_is_convertible.html">ejercicio-<wbr>2/interfaces/is_<wbr>convertible</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3.html">ejercicio-<wbr>3</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_actor.html">ejercicio-<wbr>3/classes/actor</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_audiovisual_production.html">ejercicio-<wbr>3/classes/audiovisual_<wbr>production</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_basic_streamable_collection.html">ejercicio-<wbr>3/classes/basic_<wbr>streamable_<wbr>collection</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_documentary.html">ejercicio-<wbr>3/classes/documentary</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_movie.html">ejercicio-<wbr>3/classes/movie</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_movie_collection.html">ejercicio-<wbr>3/classes/movie_<wbr>collection</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_multichapter_production.html">ejercicio-<wbr>3/classes/multichapter_<wbr>production</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_person.html">ejercicio-<wbr>3/classes/person</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_series.html">ejercicio-<wbr>3/classes/series</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_classes_series_collection.html">ejercicio-<wbr>3/classes/series_<wbr>collection</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_interfaces_searchable_by_name.html">ejercicio-<wbr>3/interfaces/searchable_<wbr>by_<wbr>name</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_interfaces_searchable_by_year.html">ejercicio-<wbr>3/interfaces/searchable_<wbr>by_<wbr>year</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/ejercicio_3_interfaces_streamable.html">ejercicio-<wbr>3/interfaces/streamable</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>